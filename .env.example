# ========================================
# API 配置（二选一）
# ========================================

# 方式一：使用 OpenAI API
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-2024-11-20
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# 方式二：使用 Qwen-Max API（阿里云 DashScope）
# 取消下面的注释并填入你的 API Key
# API_KEY=your_dashscope_api_key_here
# MODEL_NAME=qwen-max
# BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
# OPENAI_EMBEDDING_MODEL=text-embedding-async-v2
#
# 性能提示：推荐使用 text-embedding-async-v2（单次最多10万行）
# 如需同步模型可改为 text-embedding-v2（单次限25个文本）

# seekdb配置
# 运行模式: "embedded" (本地文件存储) 或 "server" (Docker服务器模式)
SEEKDB_MODE=server

# Embedded模式配置
SEEKDB_PERSIST_DIR=./data/pyseekdb

# Server模式配置（使用Docker部署的seekdb）
SEEKDB_HOST=127.0.0.1
SEEKDB_PORT=2881
SEEKDB_USER=root
SEEKDB_PASSWORD=
SEEKDB_DATABASE=rag_system

# 通用配置
EMBEDDING_DIMS=1536

# PageIndex配置
# 使用 OpenAI 时设置为 gpt-4o-2024-11-20
# 使用 Qwen 时设置为 qwen-max
PAGEINDEX_MODEL=gpt-4o-2024-11-20
PAGEINDEX_TOC_CHECK_PAGES=20
PAGEINDEX_MAX_PAGES_PER_NODE=10
PAGEINDEX_MAX_TOKENS_PER_NODE=20000

# 检索配置
TREE_SEARCH_WEIGHT=0.4
VECTOR_SEARCH_WEIGHT=0.6
TREE_MAX_DEPTH=3
TREE_TOP_K_PER_LEVEL=5
TREE_SIMILARITY_THRESHOLD=0.6
VECTOR_TOP_K=20
CHUNK_SIZE=500
CHUNK_OVERLAP=50

# 缓存配置（使用seekdb存储）
ENABLE_CACHE=true
CACHE_TTL=900
CACHE_COLLECTION=cache_data
