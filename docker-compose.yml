version: '3.8'

services:
  seekdb:
    image: oceanbase/seekdb:latest
    container_name: seekdb
    ports:
      - "2881:2881"  # SQL协议端口
      - "2886:2886"  # RPC端口
    volumes:
      - ./data/seekdb:/var/lib/oceanbase
    environment:
      # seekdb配置（如果需要）
      - TZ=Asia/Shanghai
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:2881/"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    networks:
      - rag-network

networks:
  rag-network:
    driver: bridge

volumes:
  seekdb-data:
    driver: local
